---
diff: 普及+/提高
pid: P10725
name: [GESP202406 八级] 最远点对
tag: ['2024', '树的遍历', 'GESP']
---
# [GESP202406 八级] 最远点对
## 题目描述

小杨有⼀棵包含 $n$ 个节点的树，这棵树上的任意⼀个节点要么是白色，要么是黑色。

小杨想知道相距最远的一对不同颜色节点的距离是多少。
## 输入格式

第一行包含⼀个正整数 $n$，代表树的节点数。

第二行包含 $n$ 个非负整数 $a_1,a_2,\cdots,a_n$（对于所有的 $1\le i\le n$，均有 $a_i$ 等于 $0$ 或 $1$），其中如果 $a_i=0$，则节点 $i$ 的颜色为白色；如果 $a_i=1$，则节点 $i$ 的颜色为黑色。

之后 $(n-1)$ 行，每行包含两个正整数 $x_i,y_i$，代表存在一条连接节点 $x_i$ 和 $y_i$ 的边。

保证输入的树中存在不同颜色的点。
## 输出格式

输出⼀个整数，代表相距最远的一对不同颜色节点的距离。
## 样例

### 样例输入 #1
```
5
0 1 0 1 0
1 2
1 3
3 4
3 5
```
### 样例输出 #1
```
3
```
## 提示

#### 样例解释

相距最远的不同颜色的一对节点为节点 $2$ 和 $5$。

#### 数据范围

**本题采用捆绑测试。**

| 子任务编号 | 得分 | $n$ | $a_i$ | 特殊条件 |
| :--: | :--: | :--: | :--: | :--: |
| $1$ |  $30$ | $\le 10^5$ | $0\le a_i\le 1$ | 树的形态为一条链 |
| $2$ | $30$ | $\le 10^3$ | $0\le a_i\le 1$ | |	
| $3$ | $40$ | $\le 10^5$ | $0\le a_i\le 1$ | |	

对于全部数据，保证有 $1\le n\le 10^5$，$0\le a_i\le 1$。
