---
diff: 省选/NOI-
pid: P11099
name: "[ROI 2022 Day 1] 照明"
tag: ['2022', 'Special Judge', 'ROI（俄罗斯）']
---
# [ROI 2022 Day 1] 照明
## 题目背景

翻译自 [ROI 2022 D1T4](https://neerc.ifmo.ru/school/archive/2021-2022/ru-olymp-roi-2022-day1.pdf)。

在平面直角坐标系上有一个矩形区域，它的四个角分别在 $(0, 0), (w, 0), (w, h) , (0, h)$。该区域上有 $n$ 个照明灯，第 $i$ 个照明灯位于坐标点 $(x_i, y_i)$。

每个照明灯照亮一个 $90$ 度的角，这个角的边与坐标轴平行，顶点为照明灯所在位置。因此，每个照明灯有四个可能的照亮方向:

![](https://cdn.luogu.com.cn/upload/image_hosting/nhl1d2iq.png)
## 题目描述

给定一个允许的角度方向的集合（对于所有照明灯都相同）。对于每个照明灯，选择其中一个允许的方向。需要照亮尽可能大的区域。如果一个点至少被一个照明灯照到，则认为该点被照亮。

计算使用照明灯可以照亮的区域的最大可能面积，其中每个照明灯都向其中一个允许的方向上照。
## 输入格式

每个测试点包含多组数据。

第一行给出一个整数 $k (1 \le k \le 4)$，表示每组数据中允许的角度方向的数量。

第二行给出 $k$ 个整数，表示允许的方向编号（如当灯光允许向右上或左下照时，输入为 `1 3`）。所有 $k$ 个数字是不同的，并按升序排列。

第三行给出一个整数 $t (1 \le t \le 10000)$，表示数据的组数。接下来输入 $t$ 组数据。

每个数据集的第一行给出三个整数 $n,w,h (1 \le n \le 100000, 1 \le w, h \le 10^9)$，表示区域上的照明灯数量和区域的大小。

接下来的 $n$ 行，每行两个整数 $x_i,y_i (0 \le x_i \le w, 0 \le y_i \le h)$，表示第 $i$ 个照明灯的坐标。保证任意两个照明灯不在同一点上。
## 输出格式

对于每组数据，输出一个整数，表示可以使用照明灯照亮的区域的最大可能面积。
## 样例

### 样例输入 #1
```
1
1
1
4 6 4
3 3
1 2
4 1
5 0
```
### 样例输出 #1
```
13
```
### 样例输入 #2
```
2
1 2
1
4 9 7
3 0
0 5
4 4
1 2
```
### 样例输出 #2
```
55
```
### 样例输入 #3
```
2
1 3
1
5 6 11
4 2
2 7
1 10
3 8
5 4
```
### 样例输出 #3
```
57
```
### 样例输入 #4
```
3
1 2 3
1
5 7 10
1 9
5 5
3 4
2 6
4 3
```
### 样例输出 #4
```
63
```
### 样例输入 #5
```
4
1 2 3 4
1
3 8 6
2 2
4 5
6 1
```
### 样例输出 #5
```
44
```
## 提示

### 样例解释：

样例 $1$：

![](https://cdn.luogu.com.cn/upload/image_hosting/pt0zscz6.png)

样例 $2$：

![](https://cdn.luogu.com.cn/upload/image_hosting/gxap7oqs.png)

样例 $3$：

![](https://cdn.luogu.com.cn/upload/image_hosting/0bsi6lme.png)

样例 $4$：

![](https://cdn.luogu.com.cn/upload/image_hosting/fdgimd7c.png)

样例 $5$：

![](https://cdn.luogu.com.cn/upload/image_hosting/44phd4mh.png)

### 数据范围：

全部数据范围见输入格式。

| Subtask | 分值 | $\sum n\le$ | 允许的方向 |
| :----------: | :----------: | :----------: | :----------: |
| $1$ | $13$ | $10^5$ | $1$ |
| $2$ | $11$ | $5000$ | $1,2$ |
| $3$ | $14$ | $10^5$ | $1,2$ |
| $4$ | $22$ | $5000$ | $1,3$ |
| $5$ | $14$ | $10^5$ | $1,3$ |
| $6$ | $15$ | $2000$ | $1,2,3$ |
| $7$ | $11$ | $10^5$ | $1,2,3,4$ |
