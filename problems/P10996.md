---
diff: 普及/提高-
pid: P10996
name: "【MX-J3-T3】Tuple"
tag: ['枚举']
---
# 【MX-J3-T3】Tuple
## 题目描述

你有 $m$ 个三元组 $(u_i,v_i,w_i)$，保证 $1\le u_i<v_i<w_i\le n$ 且三元组两两不同。有多少组 $(a,b,c,d)$ 满足 $1\le a<b<c<d\le n$，且在这 $m$ 个三元组当中，存在四个三元组 $(a,b,c),\allowbreak (a,b,d),\allowbreak (a,c,d),\allowbreak (b,c,d)$？
## 输入格式

输入的第一行有两个正整数 $n,m$ 表示三元组数字范围和三元组个数。

之后 $m$ 行，每行一组 $u_i,v_i,w_i$ 表示一个三元组。
## 输出格式

输出一行一个自然数表示答案。
## 样例

### 样例输入 #1
```
7 11
1 2 3
2 3 4
1 3 4
1 2 4
3 4 5
4 5 6
3 5 6
3 4 6
1 2 7
2 3 7
1 3 7

```
### 样例输出 #1
```
3

```
### 样例输入 #2
```
9 30
1 2 3
1 2 5
1 2 6
1 3 4
1 3 5
1 3 6
1 3 7
1 3 8
1 3 9
1 4 5
1 4 6
1 4 9
1 7 9
2 3 4
2 3 5
2 3 6
2 3 7
2 3 8
2 3 9
2 4 9
2 5 8
2 6 7
2 7 9
3 4 5
3 4 8
3 4 9
3 5 9
3 7 8
3 7 9
3 8 9

```
### 样例输出 #2
```
7
```
## 提示

**【样例解释 #1】**

有 $(1,2,3,4),(3,4,5,6),(1,2,3,7)$ 符合题意。

**【数据范围】**

|测试点编号|$n\le$|$m\le$|特殊性质|
|:-:|:-:|:-:|:-:|
|$1,2$|$20$|$100$||
|$3\sim 5$|$80$|$10^3$||
|$6\sim 8$|$2000$|$10^4$||
|$9\sim 12$|$300$|$5\times 10^4$|三元组随机均匀生成|
|$13\sim 17$|$300$|$5\times 10^4$||
|$18$|$2000$|$5\times 10^4$|$u_i=1$|
|$19\sim 25$|$2000$|$5\times 10^4$||

对于全体数据，保证 $4\le n\le 2000$，$4\le m\le 5\times 10^4$。
