---
title: "[EGOI2023] Inflation / 通货膨胀"
layout: "post"
diff: 普及/提高-
pid: P9463
tag: ['2023', 'O2优化', 'EGOI（欧洲/女生）']
---
# [EGOI2023] Inflation / 通货膨胀
## 题目背景

Day 1 Problem A.

题面译自 [EGOI2023 inflation](https://egoi23.se/assets/tasks/day1/inflation.pdf)。
## 题目描述

众所周知，瑞典南部的人们经常吃沙拉三明治。沙拉三明治的价格波动很大，分析经济情况的最好方法是每天去同一家沙拉三明治店，把菜单上所有价格都加起来。

一家沙拉三明治店的菜单上有 $N$ 个不同的菜品。第 $i$ 个菜品有价格 $p_i$。

每天，下列事件之一发生：

- `INFLATION x`：所有价格增加 $x$。
- `SET x y`：每个价格为 $x$ 的菜品的价格更改为 $y$。

你的任务是处理 $Q$ 天，在每天结束后输出所有菜品的总价格。
## 输入格式

第一行一个整数 $N$，表示菜品数量。

第二行 $N$ 个整数 $p_1,p_2,\cdots,p_N$。

第三行一个整数 $Q$，表示天数。

接下来 $Q$ 行，每行一个字符串 $s$ 和一至两个整数。

如果 $s$ 是 `INFLATION`，接下来一个整数 $x$。表示当天所有价格增加 $x$。

如果 $s$ 是 `SET`，接下来两个整数 $x,y$。表示每个价格为 $x$ 的菜品的价格更改为 $y$。
## 输出格式

输出 $Q$ 行，每天结束后所有菜品的总价格。
## 样例

### 样例输入 #1
```
5
2 1 1 2 5
6
INFLATION 1
SET 3 2
SET 5 2
INFLATION 4
SET 6 1
SET 10 1
```
### 样例输出 #1
```
16
14
14
34
14
5
```
### 样例输入 #2
```
3
1 4 1
5
SET 1 1
SET 3 4
INFLATION 2
SET 3 1
SET 6 4
```
### 样例输出 #2
```
6
6
12
8
6
```
## 提示

**样例 $1$ 解释**

下图为样例 $1$ 的前两天。注意到第一天结束后价格总和为 $16$，所以输出的第一个整数为 $16$。

![](https://cdn.luogu.com.cn/upload/image_hosting/jnt1pk1u.png)

---

**数据范围**

对于全部数据，$1\le N\le 3\times 10^5$，$1\le p_i\le 10^6$，$1\le Q\le 10^5$，$1\le x,y\le 10^6$。

- 子任务一（$14$ 分）：$N=1$。
- 子任务二（$28$ 分）：$N,Q,p_i,x,y\le 100$，依赖于子任务一。
- 子任务三（$19$ 分）：只有 `INFLATION` 事件。
- 子任务四（$23$ 分）：只有 `SET` 事件。
- 子任务五（$16$ 分）：无特殊限制，依赖于子任务二、三、四。

---

**提示**

答案可能不在 $32$ 位整型范围内，如果你使用 C++ 语言，请注意溢出的可能。
