---
title: "Fotile 模拟赛 L"
layout: "post"
diff: 省选/NOI-
pid: P10690
tag: ['O2优化', '分块']
---
# Fotile 模拟赛 L
## 题目描述

FOTILE 得到了一个长为 $N$ 的序列 $A$，为了拯救地球，他希望知道某些区间内的最大的连续 $\rm XOR$ 和。

即对于一个询问，你需要求出

$$
\max_{l\le i\le j\le r}\bigoplus_{k=i}^{j} a_k
$$

为了体现在线操作，对于一个询问 $(x,y)$：

- $l = \min ( ((x+{\rm lastans}) \bmod N)+1 , ((y+{\rm lastans}) \bmod N)+1)$.
- $r = \max ( ((x+{\rm lastans}) \bmod N)+1 , ((y+{\rm lastans}) \bmod N)+1)$.

**其中 $\rm lastans$ 是上次询问的答案，一开始为0。**
## 输入格式

第一行两个整数 $N$ 和 $M$。

第二行有 $N$ 个正整数，其中第 $i$ 个数为 $A_i$，有多余空格。

后 $M$ 行每行两个数 $x$, $y$ 表示一对询问。

## 输出格式

共 $M$ 行，第 $i$ 行一个正整数表示第 $i$ 个询问的结果。

## 样例

### 样例输入 #1
```
3 3
1 4 3 
0 1
0 1
4 3
```
### 样例输出 #1
```
5
7
7
```
## 提示

对于所有的测试数据满足 $N=12000$，$M=6000$，$x$，$y$，$a_i$ 均在 signed int 范围内。
