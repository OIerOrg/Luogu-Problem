---
title: "yyy loves physics IV"
layout: "post"
diff: 提高+/省选-
pid: P2413
tag: ['模拟', '字符串', '搜索']
---
# yyy loves physics IV
## 题目背景

“颤抖吧，实验室！”

yyy再一次来到了那个惨遭蹂躏的实验室。

## 题目描述

这次，在 Round1 里几乎壮烈牺牲的电路君又被翻了出来。一共有 $N$（$1 \le N \le 26$）个元件。

物理学霸 yyy 用一堆导线将他们连了起来，串联，并联，各种联……

但由于 yyy 的操作太不规范，导致每个元件都有损坏的风险，yyy 用他那天才的脑子算出元件 $i$ 损坏而断开的概率是 $p_i$（$0 \le p_i \le 1$），因为电路太复杂，yyy 请你帮忙算出电路断路的概率。

电路连接方式：

- 一个元件是最小的电路，用 $A$ 表示元件 $1$，$B$ 表示元件 $2$，以此类推。

- $K$ 个电路组成的串联电路表示为电路 $1,2,\dots,K$。

- $K$ 个电路组成的并联电路表示为（电路 $1$）（电路 $2$）......（电路 $K$）。
## 输入格式

第 $1$ 行是一个整数 $n$，表示一共有多少个元件；

第 $2$ 行是表示电路的字符串；

最后是 $n$ 行，每行是一个实数 $p_i$，表示元件 $i$ 断路的概率。
## 输出格式

一个实数，表示整个电路断路的概率，精确到小数点后 $4$ 位。
## 样例

### 样例输入 #1
```
5                            
(A,B)((C)(D),E)
0.2
0.3
0.4
0.5
0.6
```
### 样例输出 #1
```
0.2992
```
