---
title: "[AGM 2023 资格赛] 棋子游戏"
layout: "post"
diff: 省选/NOI-
pid: P9283
tag: ['2023', 'O2优化', 'AGM']
---
# [AGM 2023 资格赛] 棋子游戏
## 题目描述

Alice 和 Bob 在一个 $1\times N$ 的矩阵上玩游戏。

有 $M$ 个棋子放在不同的格子上，棋子具有各种各样的颜色。 

每回合选手可以挑选一个棋子，并将这个棋子与后面的跟他不同颜色的棋子（下一个同色棋子之前的棋子）一起往左移动正数距离，移动过程中不能跨过或者重叠前面的那个格子。Alice 先手，谁不能移谁就输了。

接下来有 $Q$ 次操作，每次操作有以下形式：

1：在 $pos$ 位置上放置一个颜色为 $col$ 的棋子。

2：删除位置 $pos$ 上的棋子。

每次操作后输出当前局面的赢家是谁。
## 输入格式

第一行输入两个数 $N,M(1\leq N\leq 10^9,1\leq M\leq 10^5)$。

接下来输入 $M$ 行，每行两个数 $pos(1\leq pos\leq n),col(1\leq col\leq 5)$ 表示初始 $pos$ 位置上有一个 $col$ 颜色的棋子。

接下来输入 $Q$ 行，每行两或三个数 $opt(1\leq opt\leq 2)$ 表示操作种类，$pos(1\leq pos\leq n)$。若 $opt=1$ 则还要读入 $col(1\leq col\leq 5)$。
## 输出格式

$Q$ 行，每行输出 Alice 或者 Bob。
## 样例

### 样例输入 #1
```
30 6
3 1
6 2
11 3
14 2
17 3
27 1
4
1 24 1
2 24
1 23 1
1 29 2

```
### 样例输出 #1
```
Bob
Alice
Alice
Bob

```
