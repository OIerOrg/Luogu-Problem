---
diff: 提高+/省选-
pid: P10096
name: [ROIR 2023 Day 1] 扫地机器人
tag: ['线段树', '2023', '离散化', 'Special Judge', '离散化扫描']
---
# [ROIR 2023 Day 1] 扫地机器人
## 题目背景

翻译自 [ROIR 2023 D1T3](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-regional-2023-day1.pdf)。

一个扫地机器人正在清洁一个二维坐标平面。扫地机器人是一个边长 $k\times k$ 的正方形，边与坐标轴平行。初始时，扫地机器人左下角位于 $(0,0)$，右上角位于 $(k,k)$。
## 题目描述

给定一个由 $n$ 个移动操作组成的序列，第 $i$ 个移动操作由方向 $d_i$（`N` 表示向上，增加 $y$ 坐标；`E` 表示向右，增加 $x$ 坐标；`W` 表示向左，减小 $x$ 坐标；`S` 表示向下，减小 $y$ 坐标）和距离 $a_i$（机器人移动的距离）组成。根据给定的机器人移动操作，计算清扫的总面积（被机器人覆盖过的点就算被清扫过的点）。
## 输入格式

第一行包含两个整数，机器人的大小 $k$ 和操作数量 $n$。

接下来的 $n$ 行中，每行包含一个移动操作和对应的距离 $a_i$。移动操作用字母 $d_i$ 表示（`N` 即向上，`E` 即向右，`W` 即向左，`S` 即向下），且距离 $a_i$ 是一个整数。
## 输出格式

输出机器人清扫的总面积。
## 样例

### 样例输入 #1
```
1 5
E 2
N 2
W 4
S 4
E 4
```
### 样例输出 #1
```
17
```
### 样例输入 #2
```
3 4
W 2
N 1
W 1
N 2
```
### 样例输出 #2
```
27
```
## 提示

样例解释：下图是两个样例中机器人的移动情况。

![](https://cdn.luogu.com.cn/upload/image_hosting/v8w6xnzb.png)

本题使用捆绑测试。

![](https://cdn.luogu.com.cn/upload/image_hosting/wwg2fmu1.png)

对于 $100\%$ 数据，$1 \le k \le 10^4$，$1 \le n \le 10^5$，$1 \le a_i \le 10^9$。
