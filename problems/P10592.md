---
diff: 省选/NOI-
pid: P10592
name: "BZOJ4361 isn"
tag: ['动态规划,dp', '树状数组', 'O2优化', '容斥']
---
# BZOJ4361 isn
## 题目背景

题目来自原 BZOJ，我们承认题面及原数据的版权均属于原 BZOJ 或将题目授权给 BZOJ 使用的出题人。如果您是版权所有者且认为我们侵犯了您的权益，可联系我们。
## 题目描述

给出一个长度为 $n$ 的序列 $a_1,a_2,\dots a_n$。如果序列 $a$ 不是非降的，你必须从中删去一个数。

这一操作将被不断执行，直到 $A$ 非降为止。求有多少种不同的操作方案。操作方案不同当且仅当删除的顺序或次数不同。答案对 $10^9+7$ 取模。
## 输入格式

第一行输入一个正整数 $n$，表示序列长度。

第二行输入 $n$ 个正整数 $a_i$，表示序列。
## 输出格式

一行一个整数，表示答案对 $10^9+7$ 取模的值。
## 样例

### 样例输入 #1
```
4
1 7 5 3
```
### 样例输出 #1
```
18
```
## 提示

对于 $100\%$ 的数据，$1\leq n\leq 2\times 10^3$，$0\leq a_i \leq 2^{31}-1$。
