---
title: "GTY的人类基因组计划2"
layout: "post"
diff: 省选/NOI-
pid: P2087
tag: ['线段树', '平衡树']
---
# GTY的人类基因组计划2
## 题目背景

GTY 决心改变人类基因！！
## 题目描述

GTY 召唤了 $n$ 个人来做实验，GTY 家的房子很大，有 $m$ 个房间一开始所有人都在 $1$ 号房间里，GTY 会命令某人去某个房间等待做实验，或者命令一段区间的房间开始实验，实验会获得一些实验信息点数，点数为房间里的人数，如果一个房间里的一群人已经做过实验了那么这些人将不会增加实验信息点数（不会增加是针对这一群人的，不是对这群人中的每个人，即 $1,2,3$ 做了实验，$1,2$ 再做实验还会增加 $2$ 点实验点数）。

## 输入格式

第一行两个整数 $n,m,q (n,m,q \leq 10^5)$ 表示人数，房间数和操作数

接下来 $q$ 行每行一个操作 `C i j` 表示让第 $i$ 个人去房间 $j$，`W l r` 表示让区间 $[l,r]$ 的房间做实验。

## 输出格式

对于每一个 $W$ 操作，输出一个数，表示此次操作所获得的实验点数。

## 样例

### 样例输入 #1
```
3 5 7
C 1 2
C 2 2
W 1 2
C 3 2
W 1 2
C 3 3
W 1 3
```
### 样例输出 #1
```
3
3
0
```
## 提示

善用 STL。

