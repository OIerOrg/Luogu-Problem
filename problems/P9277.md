---
title: "[AGM 2023 资格赛] 反转"
layout: "post"
diff: 普及+/提高
pid: P9277
tag: ['2023', 'Special Judge', 'O2优化', 'AGM']
---
# [AGM 2023 资格赛] 反转
## 题目描述

给定长度为 $N$ 的序列 $a$ 满足每个数都小于 $2^K$。你需要执行恰好 $P$ 次操作，每次操作是把其中一个数的某一个二进制位反转。最终你需要使得 

$$\sum_i\sum_j a_i\oplus a_j(i<j)$$

最大，其中 $\oplus$ 为按位异或运算。
## 输入格式

第一行包含整数 $N、K、P$，保证 $1≤N≤10^5,1≤K≤30,1≤P≤N\times K$。

下一行包含 $N$ 个整数，即序列 $a$。对于所有 $1≤i≤N$，保证 $0≤a_i<2^K$。
## 输出格式

$P$ 行，每行包含两个整数 $i$ 和 $j$，满足 $1≤i≤N, 0≤j<K$，表示数字 $a_i$ 的第 $j$ 位反转。即 $a_i\leftarrow a_i \oplus 2^j$。

**你可以多次反转同一个位。如果有多个使总和最大化的解输出任意一个即可。**
## 样例

### 样例输入 #1
```
2 5 1
0 31
```
### 样例输出 #1
```
1 0
```
### 样例输入 #2
```
4 2 2
0 0 2 2
```
### 样例输出 #2
```
4 0
3 0
```
### 样例输入 #3
```
5 6 4
63 15 0 10 5

```
### 样例输出 #3
```
5 5
4 5
4 4
5 4
```
