---
diff: 普及+/提高
pid: P1668
name: [USACO04DEC] Cleaning Shifts S
tag: ['动态规划,dp', '图论', '贪心', '2004', '线段树', 'USACO', '最短路']
---
# [USACO04DEC] Cleaning Shifts S
## 题目描述

一天有 $T(1\le T\le 10^6)$ 个时段。约翰正打算安排他的 $N(1\le N\le 2.5\times 10^4)$ 只奶牛来值班，打扫打扫牛棚卫生。每只奶牛都有自己的空闲时间段 $ [S_i,E_i](1\le S_i\le E_i\le T)$，只能把空闲的奶牛安排出来值班。而且，每个时间段必需有奶牛在值班。

那么，最少需要动用多少奶牛参与值班呢？如果没有办法安排出合理的方案，就输出 $-1$。
## 输入格式

第 $1$ 行：$N$，$T$。

第 $2$ 到 $N+1$ 行：$S_i$，$E_i$。
## 输出格式

一行，输出最少安排的奶牛数。
## 样例

### 样例输入 #1
```
3 10
1 7
3 6
6 10
```
### 样例输出 #1
```
2
```
## 提示

$1\le T\le 10^6$，$N\le 2.5\times 10^4$，$1\le S_i\le E_i\le T$。

$\text{Update On 2023/08/08}$：添加了一组hack数据，详情见[这里](https://www.luogu.com.cn/discuss/613052)。叉掉了时间复杂度为 $\mathcal O(nt)$ 的错解。
