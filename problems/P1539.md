---
diff: 提高+/省选-
pid: P1539
name: [TJOI2011] 01矩阵
tag: ['动态规划,dp', '2011', '各省省选', '状态压缩', '快速沃尔什变换 FWT', '天津']
---
# [TJOI2011] 01矩阵
## 题目描述

$n\times m$ 的 $01$ 矩阵，其中某些位置已经确定，为 '.' 的位置可以填 $0$ 或 $1$，求相邻两个位置不同为 $1$ 的矩阵方案数，答案模 $10007$。
## 输入格式

第一行输入两个数 $n,m$。

接下来输入一个 $n\times m$ 的矩阵，由 $\verb!0!,\verb!1!,\verb!.!$ 组成。
## 输出格式

输出一个整数，为相邻两个位置不同为 $1$ 的矩阵个数。
## 样例

### 样例输入 #1
```
2 3
10.
...

```
### 样例输出 #1
```
5

```
## 提示

### 数据范围及约定

对于 $100\%$ 的数据，$n\times m \le 225$。
